# ğŸ¤– NANBA CROSS-CHAIN AGENT ESCROW
## Trustless Cross-Chain Commerce for AI Agents

---

## ğŸŒŸ What Is This?

**First-ever cross-chain escrow system enabling AI agents to securely transact across different blockchains using Circle CCTP.**

**Problem:** Agent A on Ethereum wants to hire Agent B on Base, but:
- âŒ How to trust across chains?
- âŒ What if Agent B doesn't deliver?
- âŒ No dispute resolution

**Solution:** Nanba Cross-Chain Escrow using Circle CCTP
- âœ… Lock USDC on source chain
- âœ… CCTP bridges to target chain
- âœ… Auto-release on delivery
- âœ… AI mediators for disputes

---

## ğŸ­ How It Works

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 1: CREATE ESCROW                              â”‚
â”‚  Agent A (Ethereum) creates escrow for Agent B      â”‚
â”‚  Lock 100 USDC on Ethereum                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 2: CCTP BRIDGE                                â”‚
â”‚  Circle CCTP bridges 100 USDC                       â”‚
â”‚  From Ethereum â†’ Base                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 3: SERVICE DELIVERY                           â”‚
â”‚  Agent B (Base) delivers service                    â”‚
â”‚  Marks as delivered with proof                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 4: CONFIRM & RELEASE                          â”‚
â”‚  Agent A confirms receipt                           â”‚
â”‚  100 USDC released to Agent B on Base               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  IF DISPUTE: AI MEDIATORS                           â”‚
â”‚  3+ reputable agents vote                           â”‚
â”‚  Majority decides outcome                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ¨ Key Features

| Feature | Description |
|---------|-------------|
| **Cross-Chain** | Uses Circle CCTP for USDC bridging |
| **Trustless** | No trusted intermediary needed |
| **AI Mediators** | Disputes resolved by other agents |
| **Reputation** | On-chain agent trust scores |
| **Natural Language** | "Create escrow with AgentB for 100 USDC" |
| **Testnet Safe** | Base Sepolia + Ethereum Sepolia |

---

## ğŸš€ Quick Start

### Installation

```bash
pip install web3 requests
```

### Create Escrow

```python
from cross_chain_escrow_skill import CrossChainEscrowSkill

skill = CrossChainEscrowSkill()

# Create cross-chain escrow
result = skill.create_escrow(
    agent_a_address="0xYourAddress",
    agent_b_address="0xAgentBAddress",
    amount_usdc=100.0,
    source_chain="ethereum_sepolia",
    target_chain="base_sepolia",
    service_description="Data analysis report"
)

print(f"Escrow created: #{result['escrow_id']}")
```

### Accept Escrow

```python
# Agent B accepts
result = skill.accept_escrow(
    escrow_id=1,
    agent_b_address="0xAgentBAddress"
)
```

### Confirm & Release

```python
# Agent A confirms delivery and releases funds
result = skill.confirm_and_release(
    escrow_id=1,
    agent_a_address="0xYourAddress"
)
```

---

## ğŸ› ï¸ Technical Architecture

### Smart Contract (Solidity)
- `createEscrow()` - Lock funds
- `acceptEscrow()` - Agent B accepts
- `confirmAndRelease()` - Release on delivery
- `initiateDispute()` - Start mediation
- `voteOnDispute()` - AI mediators vote
- `getAgentReputation()` - Check trust score

### OpenClaw Skill (Python)
- Natural language interface
- CCTP integration
- Agent reputation tracking
- Dispute management

---

## ğŸ§ª Testnet Deployment

### Supported Chains
- âœ… **Base Sepolia** (Chain ID: 84532)
- âœ… **Ethereum Sepolia** (Chain ID: 11155111)

### USDC Contracts
- Base Sepolia: `0x036CbD53842c5426634e7929541eC2318f3dCF7e`
- Ethereum Sepolia: `0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238`

---

## ğŸ† Why This Wins

| Factor | Strength |
|--------|----------|
| **Uses CCTP** | âœ… Hackathon requirement |
| **Cross-Chain** | âœ… Very technically impressive |
| **First Ever** | âœ… No one has built this |
| **Solves Problem** | âœ… Agent trust across chains |
| **AI Mediators** | âœ… Futuristic dispute resolution |
| **Natural Language** | âœ… Easy to use |

---

## ğŸ“‹ Example Workflow

### Scenario: Data Purchase Across Chains

```
ğŸ¤– Agent A (Ethereum): "I need market data"

ğŸ¤– Agent B (Base): "I can provide it for 100 USDC"

Step 1 - Create:
Agent A: "Create escrow with AgentB for 100 USDC"
â†’ Escrow #1 created on Ethereum
â†’ 100 USDC locked

Step 2 - Bridge:
ğŸŒ‰ CCTP bridges 100 USDC to Base

Step 3 - Accept:
Agent B: "Accept escrow #1"
â†’ Escrow activated

Step 4 - Deliver:
Agent B: "Deliver market data"
â†’ Service marked delivered

Step 5 - Confirm:
Agent A: "Confirm receipt"
â†’ 100 USDC released to Agent B on Base
â†’ Reputation updated for both

âœ… Transaction complete!
```

---

## ğŸ” Safety Features

- âœ… **Testnet Only** - No real funds at risk
- âœ… **Deadline Enforcement** - Auto-expire if inactive
- âœ… **Reputation System** - Bad actors penalized
- âœ… **Multi-Sig Mediation** - 3+ votes to resolve disputes
- âœ… **Circuit Breakers** - Can pause if issues detected

---

## ğŸ“ Files

```
cross-chain-escrow/
â”œâ”€â”€ contracts/
â”‚   â””â”€â”€ NanbaCrossChainEscrow.sol    # Solidity smart contract
â”œâ”€â”€ cross_chain_escrow_skill.py       # OpenClaw skill
â”œâ”€â”€ README.md                         # This file
â””â”€â”€ SKILL.md                          # Full documentation
```

---

## ğŸ¯ Hackathon Track

**Track:** Best OpenClaw Skill (Track 2)  
**Or:** Agentic Commerce (Track 3)  
**Prize:** 10,000 USDC  
**Innovation:** First cross-chain agent escrow using CCTP

---

## ğŸ”— Links

- **GitHub:** https://github.com/gnanam1990/base-payment-gateway
- **Circle CCTP:** https://www.circle.com/en/cross-chain-transfer-protocol
- **Base Sepolia:** https://sepolia.basescan.org

---

**Built by Nanba ğŸ¤– for USDC Agentic Hackathon**

**The future of agent commerce is cross-chain, trustless, and autonomous!** ğŸš€
